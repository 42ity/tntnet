AC_INIT([tntnet],[1.2.1],[Tommi Mäkitalo <t.maekitalo@epgmbh.de>])
AM_INIT_AUTOMAKE(tntnet, 1.2.1)

abi_current=2
abi_revision=1
abi_age=0
sonumber=${abi_current}:${abi_revision}:${abi_age}
AC_SUBST(sonumber)

unset CDPATH

AC_CONFIG_HEADERS([framework/common/config.h])
AC_CONFIG_HEADERS([framework/common/tnt/config.h])
AC_CONFIG_SRCDIR([framework/runtime/tntnet.cpp])

AC_PROG_CXX(g++-3.0 g++ c++ CC)
AC_PROG_LIBTOOL

AC_LANG(C++)

AC_CHECK_HEADERS([cxxtools/tcpstream.h])
AC_CHECK_HEADERS([cxxtools/log.h], [], [AC_MSG_ERROR(use cxxtools with logging - version >= 1.2.1)])

AC_CHECK_HEADER([boost/regex.hpp])

AC_CONFIG_FILES([
    Makefile
    framework/common/Makefile
    framework/runtime/Makefile
    framework/ecpp/Makefile
    framework/defcomp/Makefile
    sdk/tools/common/Makefile
    sdk/tools/ecppc/Makefile
    sdk/tools/ecppl/Makefile
    sdk/tools/ecppll/Makefile
    sdk/demos/calc/Makefile
    etc/Makefile
    ])

AC_OUTPUT
